{"version":3,"sources":["webpack:///src/views/systemSettings/userList.vue","webpack:///./src/views/systemSettings/userList.vue?99df","webpack:///./src/views/systemSettings/userList.vue"],"names":["userList","data","total","pageNum","pageSize","isLoading","tableHeight","window","innerHeight","school_type","regionData","mobileVal","regionVal","grade_auth","tableHead","title","prop","schoolList","tableData","method_auth","unbindUser","deleteChild","getRegion","status_auth","kindergarten_status","junior_middle_school_status","primary_school_status","mounted","this","getRegionList","resView","methods","handleSizeChange","newSize","getListData","handleCurrentChange","newPage","phoneOpen","e","_ref","_this","$prompt","real_name","idcard","confirmButtonText","cancelButtonText","inputPattern","inputPlaceholder","inputErrorMessage","dangerouslyUseHTMLString","then","asyncToGenerator_default","regenerator_default","a","mark","_callee","_ref2","params","_ref3","value","wrap","_context","prev","next","child_id","user_id","user_name","type","axios","post","api","sent","code","$message","showClose","message","msg","stop","_x","apply","arguments","catch","searchClick","_this2","_callee2","res","_context2","setCompatriotsViewApi","type_list","forEach","item","length","id","_this3","_callee3","_context3","_this4","_callee4","datas","_ref4","_context4","curr","pagesize","region_id","keyword","resources","map","method_name","exist","grade_status","delBtn","_this5","$confirm","_callee5","_ref6","_context5","systemSettings_userList","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","placeholder","size","clearable","model","callback","$$v","expression","_l","key","label","region_name","_e","_v","name","plain","icon","on","click","directives","rawName","staticStyle","width","border","element-loading-background","max-height","index","show-overflow-tooltip","min-width","minwidth","fixed","scopedSlots","_u","fn","scope","$event","row","color","background","current-page","page-sizes","page-size","layout","hide-on-single-page","update:currentPage","update:current-page","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/39.149b3d7dede368c41677.js","sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <div class=\"userList\">\r\n            <div class=\"searchA\">\r\n                <el-select v-model=\"regionVal\" placeholder=\"选择区县\" size=\"small\" clearable v-if='grade_auth'>\r\n                    <el-option v-for=\"item in regionData\" :key=\"item.id\" :label=\"item.region_name\" :value=\"item.id\"></el-option>\r\n                </el-select>\r\n                <el-select v-model=\"school_type\" placeholder=\"选择学校类型\" size=\"small\">\r\n                    <el-option v-for=\"item in schoolList\" :label=\"item.name\" :key=\"item.id\" :value=\"item.id\"></el-option>\r\n                </el-select>\r\n                <el-input v-model=\"mobileVal\" placeholder=\"请输入手机号/身份证号搜索\" size=\"small\" clearable></el-input>\r\n                <el-button size=\"small\" type=\"primary\"  plain icon=\"el-icon-search\" @click=\"searchClick\">查询</el-button>\r\n            </div>\r\n            <div class=\"home_table\">\r\n                <el-table :data=\"tableData\" border v-loading=\"isLoading\" element-loading-background=\"rgba(0, 0, 0, 0.4)\" size=\"medium\" :max-height=\"tableHeight\" style=\"width: 100%\">\r\n                    <el-table-column prop=\"region_name\" label=\"区县\" width=\"100\" v-if='grade_auth' />\r\n                    <template v-for=\"(item, index) in tableHead\">\r\n                        <el-table-column :prop=\"item.prop\" :label=\"item.title\" :key=\"index\" :show-overflow-tooltip='true' :min-width=\"item.minwidth\">\r\n                        </el-table-column>\r\n                    </template>\r\n                    <el-table-column prop=\"address\" label=\"操作\" fixed=\"right\" width=\"200\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button @click=\"phoneOpen(scope.row)\" type=\"text\" size=\"small\" v-if=\"method_auth.unbindUser\">修改手机号</el-button>\r\n                            <el-button @click=\"delBtn(scope.row)\" type=\"text\" size=\"small\" style=\"color: #ff2b2b\" v-if=\"method_auth.deleteChild\">删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n                <div class=\"pagination\">\r\n                    <el-pagination background :current-page.sync=\"pageNum\" :page-sizes=\"[15, 30, 50, 100]\" :page-size=\"pageSize\" layout=\"prev, pager, next, sizes,total\" :total=\"total\" class=\"pagination\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :hide-on-single-page=\"total < 15 ? true : false\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { userListApi, regionListApi, unbindUserApi, userListDelApi, userViewApi } from \"@/api/index\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            total: 0,\r\n            pageNum: 1,\r\n            pageSize: 15,\r\n            isLoading: false,\r\n            tableHeight: window.innerHeight - 180,\r\n            school_type: '',\r\n            regionData: [],\r\n            mobileVal: \"\",\r\n            regionVal: \"\",\r\n            grade_auth: false, // 市局权限\r\n            tableHead: [\r\n                // { title: \"区县\", prop: \"region_name\" },\r\n                { title: \"手机号\", prop: \"user_name\" },\r\n                { title: \"绑定学生姓名\", prop: \"real_name\" },\r\n                { title: \"绑定学生身份证\", prop: \"idcard\" },\r\n                { title: \"绑定时间\", prop: \"create_time\" },\r\n                { title: \"解绑时间\", prop: \"unbind_time\" },\r\n            ],\r\n            schoolList: [],\r\n            tableData: [],\r\n            method_auth: {\r\n                unbindUser: 0, // 绑定手机号码\r\n                deleteChild: 0, // 删除学生\r\n                getRegion: 0, // 获取区域\r\n            },\r\n            status_auth: {\r\n                kindergarten_status: 0,//幼儿园权限\r\n                junior_middle_school_status: 0,//初中权限\r\n                primary_school_status: 0,//小学权限\r\n            }\r\n        };\r\n    },\r\n    mounted() {\r\n        this.getRegionList();\r\n        this.resView();\r\n    },\r\n    methods: {\r\n\r\n        // 监听 pagesize 改变\r\n        handleSizeChange(newSize) {\r\n            this.pageNum = 1;\r\n            this.pageSize = newSize;\r\n            this.getListData();\r\n        },\r\n        // 监听 pagenum 改变\r\n        handleCurrentChange(newPage) {\r\n            this.pageNum = newPage;\r\n            this.getListData();\r\n        },\r\n        //修改手机号\r\n        phoneOpen(e) {\r\n            this.$prompt(\r\n                \"<div>学生姓名：\" +\r\n                e.real_name +\r\n                \"</div><div>身份证号：\" +\r\n                e.idcard +\r\n                \"</div><div>新绑定手机号：</div>\",\r\n                \"更换手机号\",\r\n                {\r\n                    confirmButtonText: \"确定\",\r\n                    cancelButtonText: \"取消\",\r\n                    inputPattern: /^[1][3,4,5,7,8,9][0-9]{9}$/,\r\n                    inputPlaceholder: \"请输入新绑定手机号\",\r\n                    inputErrorMessage: \"手机号格式不正确\",\r\n                    dangerouslyUseHTMLString: true,\r\n                }\r\n            )\r\n                .then(async ({ value }) => {\r\n                    const params = {\r\n                        child_id: e.child_id,\r\n                        user_id: e.user_id,\r\n                        user_name: value,\r\n                        type: e.type\r\n                    };\r\n                    const { data } = await this.axios.post(unbindUserApi, params);\r\n                    if (data.code == 1) {\r\n                        this.$message({ showClose: true, message: '更新成功', type: 'success', });\r\n                        this.getListData();\r\n                    } else {\r\n                        this.$message({ showClose: true, message: data.msg, type: 'error', });\r\n                    }\r\n                })\r\n                .catch(() => {\r\n                    // this.$message({\r\n                    //     type: \"info\",\r\n                    //     message: \"取消输入\",\r\n                    // });\r\n                });\r\n        },\r\n        //搜索\r\n        searchClick() {\r\n            this.tableData = [];\r\n            this.pageSize = 15;\r\n            this.pageNum = 1;\r\n            this.getListData();\r\n        },\r\n\r\n        //资源\r\n        async resView() {\r\n            const res = await this.axios.post(setCompatriotsViewApi);\r\n            if (res.data.code == 1) {\r\n                this.schoolList = res.data.data.type_list;\r\n                this.schoolList.forEach(item => {\r\n                    if (this.schoolList.length > 0) {\r\n                        this.school_type = '1'\r\n                        if (this.schoolList.length == 1 && item.id == '1') {\r\n                            this.school_type = '1'\r\n                        } else if (this.schoolList.length == 1 && item.id == '3') {\r\n                            this.school_type = '3'\r\n                        }\r\n                    }\r\n                })\r\n                this.getListData();\r\n            }\r\n        },\r\n        //区域列表\r\n        async getRegionList() {\r\n            const res = await this.axios.post(regionListApi)\r\n            if (res.data.code == 1) {\r\n                this.regionData = res.data.data;\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: \"error\"\r\n                });\r\n            }\r\n        },\r\n        //获取列表数据\r\n        async getListData() {\r\n            this.isLoading = true;\r\n            let datas = {\r\n                curr: this.pageNum,\r\n                pagesize: this.pageSize,\r\n                region_id: this.regionVal,\r\n                keyword: this.mobileVal,\r\n                type: this.school_type,\r\n            };\r\n            const { data } = await this.axios.post(userListApi, datas);\r\n            if (data.code == 1) {\r\n                this.tableData = data.data.data;\r\n                this.total = data.data.total;\r\n                this.isLoading = false;\r\n                let method_auth = data.data.resources.method_auth;\r\n                method_auth.map(item => {\r\n                    if (item.method_name) {\r\n                        this.method_auth[item.method_name] = item.exist;\r\n                    }\r\n                });\r\n                // 权限\r\n                this.resources = data.data.resources;\r\n                if (this.resources.grade_auth && this.resources.grade_auth.grade_status == 1) {\r\n                    this.grade_auth = true;\r\n                }\r\n            } else {\r\n                this.isLoading = false;\r\n                this.$message({ showClose: true, message: data.msg, type: 'error', });\r\n            }\r\n        },\r\n\r\n        //删除\r\n        delBtn(e) {\r\n            this.$confirm('是否删除该条数据?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n            }).then(async () => {\r\n                const params = { child_id: e.child_id, type: e.type };\r\n                const { data } = await this.axios.post(userListDelApi, params);\r\n                if (data.code == 1) {\r\n                    if ((this.total - 1) % this.pageSize === 0) {\r\n                        this.pageNum = this.pageNum - 1\r\n                    }\r\n                    this.getListData();\r\n                    this.$message({ showClose: true, message: '删除成功', type: 'success', });\r\n                } else {\r\n                    this.$message({ showClose: true, message: data.msg, type: 'error', });\r\n                }\r\n            })\r\n                .catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消删除',\r\n                    });\r\n                });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.userList {\r\n    .searchA {\r\n        display: flex;\r\n        padding: 12px 25px;\r\n        background: #fff;\r\n        .el-select {\r\n            margin-right: 24px;\r\n        }\r\n        .el-input {\r\n            width: auto;\r\n            margin-right: 24px;\r\n        }\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/systemSettings/userList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"userList\"},[_c('div',{staticClass:\"searchA\"},[(_vm.grade_auth)?_c('el-select',{attrs:{\"placeholder\":\"选择区县\",\"size\":\"small\",\"clearable\":\"\"},model:{value:(_vm.regionVal),callback:function ($$v) {_vm.regionVal=$$v},expression:\"regionVal\"}},_vm._l((_vm.regionData),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.region_name,\"value\":item.id}})}),1):_vm._e(),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"选择学校类型\",\"size\":\"small\"},model:{value:(_vm.school_type),callback:function ($$v) {_vm.school_type=$$v},expression:\"school_type\"}},_vm._l((_vm.schoolList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请输入手机号/身份证号搜索\",\"size\":\"small\",\"clearable\":\"\"},model:{value:(_vm.mobileVal),callback:function ($$v) {_vm.mobileVal=$$v},expression:\"mobileVal\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchClick}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"home_table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"element-loading-background\":\"rgba(0, 0, 0, 0.4)\",\"size\":\"medium\",\"max-height\":_vm.tableHeight}},[(_vm.grade_auth)?_c('el-table-column',{attrs:{\"prop\":\"region_name\",\"label\":\"区县\",\"width\":\"100\"}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.tableHead),function(item,index){return [_c('el-table-column',{key:index,attrs:{\"prop\":item.prop,\"label\":item.title,\"show-overflow-tooltip\":true,\"min-width\":item.minwidth}})]}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(_vm.method_auth.unbindUser)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.phoneOpen(scope.row)}}},[_vm._v(\"修改手机号\")]):_vm._e(),_vm._v(\" \"),(_vm.method_auth.deleteChild)?_c('el-button',{staticStyle:{\"color\":\"#ff2b2b\"},attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.delBtn(scope.row)}}},[_vm._v(\"删除\")]):_vm._e()]}}])})],2),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{staticClass:\"pagination\",attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[15, 30, 50, 100],\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next, sizes,total\",\"total\":_vm.total,\"hide-on-single-page\":_vm.total < 15 ? true : false},on:{\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32b47546\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/systemSettings/userList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32b47546\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32b47546\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32b47546\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/systemSettings/userList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}