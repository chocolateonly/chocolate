{"version":3,"sources":["webpack:///./node_modules/core-js/library/fn/object/values.js","webpack:///./node_modules/core-js/library/modules/es7.object.values.js","webpack:///./node_modules/babel-runtime/core-js/object/values.js","webpack:///./node_modules/core-js/library/modules/_object-to-array.js","webpack:///src/views/systemSettings/cacheManagement.vue","webpack:///./src/views/systemSettings/cacheManagement.vue?e490","webpack:///./src/views/systemSettings/cacheManagement.vue"],"names":["__webpack_require__","module","exports","Object","values","$export","$values","S","it","default","__esModule","DESCRIPTORS","getKeys","toIObject","isEnum","f","isEntries","key","O","keys","length","i","result","call","push","cacheManagement","data","isLoading","tableHeight","window","innerHeight","formData","region_id","cost_name","disabled","method_auth","tableHead","title","prop","tableData","mounted","this","getListData","methods","sxhcBtn","e","_this","$confirm","confirmButtonText","cancelButtonText","then","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","axios","post","api","cache_name","sent","code","$message","showClose","message","type","stop","catch","sxhcQbBtn","_this2","_callee2","_context2","_this3","_callee3","_ref3","arr","_context3","forEach","item","index","obj","keys_default","label","values_default","msg","systemSettings_cacheManagement","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","icon","on","click","_v","directives","name","rawName","value","expression","staticStyle","width","border","element-loading-background","max-height","_l","show-overflow-tooltip","fixed","scopedSlots","_u","fn","scope","$event","row","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.5ebb56ec4fc1105692bb.js","sourcesContent":["require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/values.js\n// module id = TmV0\n// module chunks = 3 54","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.object.values.js\n// module id = fZOM\n// module chunks = 3 54","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/values.js\n// module id = gRE1\n// module chunks = 3 54","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-to-array.js\n// module id = mbce\n// module chunks = 3 54","<template>\r\n    <div class=\"main\">\r\n        <div class=\"cacheManagement\">\r\n            <div class=\"searchA\">\r\n                <div class=\"add\">\r\n                    <el-button size=\"small\" type=\"primary\" icon=\"el-icon-refresh-right\" @click=\"sxhcQbBtn\">重新加载全部缓存</el-button>\r\n                </div>\r\n            </div>\r\n            <div class=\"home_table\">\r\n                <el-table :data=\"tableData\" border v-loading=\"isLoading\" element-loading-background=\"rgba(0, 0, 0, 0.4)\" size=\"medium\" :max-height=\"tableHeight\" style=\"width: 100%\">\r\n                    <template v-for=\"(item, index) in tableHead\">\r\n                        <el-table-column :prop=\"item.prop\" :label=\"item.title\" :key=\"index\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n                    </template>\r\n                    <el-table-column prop=\"address\" label=\"操作\" fixed=\"right\" width=\"160\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button @click=\"sxhcBtn(scope.row)\" type=\"text\" size=\"small\">刷新缓存</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {\r\n    cacheListApi,\r\n    refreshCacheApi,\r\n    refreshCacheQbApi\r\n\r\n} from '@/api/index';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            tableHeight: window.innerHeight - 180,\r\n            formData: {\r\n                region_id: '',\r\n                cost_name: '',\r\n                disabled: true,\r\n            },\r\n            method_auth: {},\r\n\r\n            tableHead: [\r\n                { title: '缓存数据类型', prop: 'title' },\r\n                { title: '缓存大小', prop: 'label' },\r\n            ],\r\n            tableData: [],\r\n        };\r\n    },\r\n    mounted() {\r\n        this.getListData();\r\n    },\r\n    methods: {\r\n        // 刷新单个缓存\r\n        sxhcBtn(e) {\r\n            this.$confirm('是否确认刷新该条数据缓存?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n            }).then(async () => {\r\n\r\n                const resS = await this.axios.post(refreshCacheApi, {\r\n                    cache_name: e.title\r\n                });\r\n                if (resS.data.code == 1) {\r\n\r\n                    this.$message({\r\n                        showClose: true,\r\n                        message:'刷新成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.getListData();\r\n\r\n                } else {\r\n                    this.$message({\r\n                        showClose: true,\r\n                        message:'刷新失败',\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消操作'\r\n                });\r\n            });\r\n\r\n        },\r\n\r\n\r\n//刷新全部缓存\r\n        sxhcQbBtn(){\r\n                  this.$confirm('是否确认刷新所有数据缓存?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n            }).then(async () => {\r\n\r\n                const resS = await this.axios.post(refreshCacheQbApi, {});\r\n                if (resS.data.code == 1) {\r\n                    this.$message({\r\n                        showClose: true,\r\n                        message:'刷新成功',\r\n                        type: 'success'\r\n                    });\r\n                    this.getListData();\r\n\r\n                } else {\r\n                    this.$message({\r\n                        showClose: true,\r\n                        message:'刷新失败',\r\n                        type: 'error'\r\n                    });\r\n                }\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消操作'\r\n                });\r\n            });\r\n        },\r\n        //获取列表\r\n        async getListData() {\r\n            this.isLoading = true;\r\n            const { data } = await this.axios.post(cacheListApi, {});\r\n            if (data.code == 1) {\r\n                let arr = []\r\n                data.data.forEach(function (item, index) {\r\n                    let obj = {};\r\n                    obj.title = Object.keys(item)[0];\r\n                    obj.label = Object.values(item)[0];\r\n                    arr.push(obj)\r\n                });\r\n                this.tableData = arr;\r\n\r\n                // console.log(Array.from(data.data))\r\n                // let resources = data.data.resources.method_auth;\r\n                // let obj = this.method_auth;\r\n                // resources.map(function (value) {\r\n                //     if (value.method_name) {\r\n                //         obj[value.method_name] = value.exist;\r\n                //     }\r\n                // });\r\n                // this.method_auth = obj;\r\n                this.isLoading = false;\r\n            } else {\r\n                this.isLoading = false;\r\n                this.$message({ showClose: true, message: data.msg, type: 'error', });\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cacheManagement {\r\n    .searchA {\r\n        display: flex;\r\n        padding: 12px 25px;\r\n        background: #fff;\r\n        .el-select {\r\n            margin-right: 24px;\r\n        }\r\n        .el-input {\r\n            width: auto;\r\n            margin-right: 24px;\r\n        }\r\n        .add {\r\n            flex: 1;\r\n            text-align: right;\r\n        }\r\n        .searchBtn {\r\n            border: solid 1px #2f39ff;\r\n            color: #2f39ff;\r\n        }\r\n    }\r\n\r\n    .btn {\r\n        width: 250px;\r\n        // margin-top: 20px;\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/systemSettings/cacheManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"cacheManagement\"},[_c('div',{staticClass:\"searchA\"},[_c('div',{staticClass:\"add\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-refresh-right\"},on:{\"click\":_vm.sxhcQbBtn}},[_vm._v(\"重新加载全部缓存\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"home_table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"element-loading-background\":\"rgba(0, 0, 0, 0.4)\",\"size\":\"medium\",\"max-height\":_vm.tableHeight}},[_vm._l((_vm.tableHead),function(item,index){return [_c('el-table-column',{key:index,attrs:{\"prop\":item.prop,\"label\":item.title,\"show-overflow-tooltip\":true}})]}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.sxhcBtn(scope.row)}}},[_vm._v(\"刷新缓存\")])]}}])})],2)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-34ebbf0d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/systemSettings/cacheManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-34ebbf0d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cacheManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cacheManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cacheManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-34ebbf0d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cacheManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-34ebbf0d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/systemSettings/cacheManagement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}