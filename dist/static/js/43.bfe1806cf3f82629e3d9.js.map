{"version":3,"sources":["webpack:///src/views/equipmentManagement/equipmentManagement.vue","webpack:///./src/views/equipmentManagement/equipmentManagement.vue?4274","webpack:///./src/views/equipmentManagement/equipmentManagement.vue"],"names":["equipmentManagement","data","total","page","pageSize","tableHeight","window","innerHeight","inputWidth","dialogVisible","dialogFormVisible","title","search","name","address","device_id","formData","equipment","tableHead","prop","minWidth","tableData","rule","device_type","required","message","trigger","device_name","device_code","point_type","relevancy_id","lamp_device_id","duty_position_id","relevancy_device_type","deviceType","positionData","hash","deviceList","dutyStation","checked","poinType","type","id","warningLight","mounted","this","getList","getHash","resView","typeList","methods","typeChange","e","serchList","statusChange","i","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","axios","post","src_api","disabled","sent","code","$message","showClose","msg","stop","nodeChange","location_address","handleSizeChange","newSize","handleCurrentChange","newPage","add","resetForm","editBtn","row","getInfo","check","_this2","ip_address","$nextTick","$refs","resetFields","handleClose","_this3","_callee2","_context2","info","String","location","_this4","_callee3","_context3","forEach","item","_this5","_callee4","_context4","_this6","_callee5","_context5","pointTypes","device","push","_this7","_callee6","_context6","page_hash","submit","_ref","_this8","validate","_callee7","valid","api","_context7","_x","apply","arguments","delBtn","_this9","$confirm","confirmButtonText","cancelButtonText","then","datas","$notify","success","error","catch","err","equipmentManagement_equipmentManagement","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","clearable","size","placeholder","model","value","callback","$$v","$set","expression","_l","key","label","_v","filterable","options","props","checkStrictly","emitPath","on","change","plain","icon","click","$event","staticStyle","width","border","element-loading-background","max-height","index","align","min-width","show-overflow-tooltip","scopedSlots","_u","fn","scope","$index","fixed","color","background","current-page","page-sizes","page-size","layout","hide-on-single-page","update:currentPage","update:current-page","size-change","current-change","directives","rawName","visible","close-on-click-modal","update:visible","close","ref","rules","label-width","_e","dictionary_value","dictionary_name","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/43.bfe1806cf3f82629e3d9.js","sourcesContent":["<template>\r\n    <div class=\"equipmentManagement\">\r\n        <div class=\"search\">\r\n            <el-select clearable size=\"small\" placeholder=\"请选择设备类型\" v-model=\"search.device_id\">\r\n                <el-option v-for=\"item in deviceType\" :label=\"item.value\" :value=\"item.id\" :key=\"item.id\"></el-option>\r\n            </el-select>\r\n            <el-input placeholder=\"请选择设备名称\" v-model=\"search.name\" clearable size=\"small\"></el-input>\r\n            <!-- <el-input placeholder=\"请输入设备所在位置\" v-model=\"search.address\" clearable size=\"small\"></el-input> -->\r\n            <el-cascader filterable size=\"small\" v-model=\"search.address\" :options=\"positionData\" @change=\"nodeChange\" :props=\"{ checkStrictly: true,value:'id',label:'title',emitPath:false, }\" clearable></el-cascader>\r\n            <el-button size=\"small\" type=\"primary\" plain icon=\"el-icon-search\" @click=\"serchList()\">查询</el-button>\r\n            <div class=\"add\">\r\n                <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\" class=\"btn_add\" @click=\"add\">新增设备</el-button>\r\n            </div>\r\n        </div>\r\n        <div class=\"home_table\">\r\n            <el-table :data=\"tableData\" border element-loading-background=\"rgba(0, 0, 0, 0.4)\" :max-height=\"tableHeight\" size=\"medium\" style=\"width: 100%\">\r\n                <template v-for=\"(item, index) in tableHead\">\r\n                    <el-table-column :prop=\"item.prop\" align=\"center\" v-if=\"item.prop!='disabled'\" :label=\"item.title\" :key=\"index\" :min-width=\"item.minWidth\" :show-overflow-tooltip=\"true\"></el-table-column>\r\n                    <el-table-column :prop=\"item.prop\" align=\"center\" :label=\"item.title\" :key=\"index\" v-else :min-width=\"item.minWidth\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-switch v-model=\"tableData[scope.$index][item.prop]\" @change=\"statusChange(scope.row,tableData[scope.$index][item.prop])\"></el-switch>\r\n                        </template>\r\n                    </el-table-column>\r\n                </template>\r\n                <el-table-column prop=\"address\" label=\"操作\" fixed=\"right\" width=\"160\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button @click=\"editBtn(scope.row)\" type=\"text\" size=\"small\">编辑</el-button>\r\n                        <el-button @click=\"check(scope.row)\" type=\"text\" size=\"small\">查看</el-button>\r\n                        <el-button @click=\"delBtn(scope.row.id)\" type=\"text\" size=\"small\" style=\"color: #ff2b2b\">删除</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <div class=\"pagination\">\r\n            <el-pagination background :current-page.sync=\"page\" :page-sizes=\"[15, 30, 50, 100]\" :page-size=\"pageSize\" layout=\"prev, pager, next, sizes,total\" :total=\"total\" class=\"pagination\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :hide-on-single-page=\"total<15? true:false\" />\r\n        </div>\r\n        <!-- 新增设备弹窗 -->\r\n        <el-dialog :title=\"title\" :visible.sync=\"dialogFormVisible\" v-dialogDrag width=\"700px\" :close-on-click-modal=\"false\" @close='handleClose'>\r\n            <el-form :model=\"formData\" :disabled='checked' ref=\"formData\" :rules=\"rule\" label-width=\"110px\">\r\n                <el-form-item label=\"设备类型\" prop=\"device_type\">\r\n                    <el-select placeholder=\"请选择设备类型\" v-model=\"formData.device_type\">\r\n                        <el-option v-for=\"item in deviceType\" :label=\"item.value\" :value=\"item.id\" :key=\"item.id\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"设备名称\" prop=\"device_name\">\r\n                    <el-input v-model=\"formData.device_name\" placeholder=\"请输入设备名称\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"设备码\" prop=\"device_code\">\r\n                    <el-input v-model=\"formData.device_code\" placeholder=\"请输入设备码\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"点位类型\" prop=\"point_type\" v-if=\"formData.device_type == 4\">\r\n                    <el-select v-model=\"formData.point_type\" placeholder=\"请选择点位类型\">\r\n                        <el-option v-for=\"item in poinType\" :label=\"item.value\" :value=\"item.id\" :key=\"item.id\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"关联设备类型\" prop=\"relevancy_device_type\" v-if=\"formData.device_type == 3\">\r\n                    <el-select placeholder=\"请选择关联设备类型\" clearable v-model=\"formData.relevancy_device_type\" @change=\"typeChange\">\r\n                        <el-option v-for=\"item in type\" :label=\"item.name\" :value=\"item.id\" :key=\"item.id\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"关联设备\" prop=\"relevancy_id\" v-if=\"formData.device_type == 3\">\r\n                    <el-select placeholder=\"请选择关联设备\" clearable v-model=\"formData.relevancy_id\">\r\n                        <el-option v-for=\"item in deviceList\" :label=\"item.device_name\" :value=\"item.id\" :key=\"item.id\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"关联预警灯\" prop=\"lamp_device_id\" v-if=\"formData.device_type == 3\">\r\n                    <el-select placeholder=\"请选择关联预警灯\" clearable v-model=\"formData.lamp_device_id\">\r\n                        <el-option v-for=\"item in warningLight\" :label=\"item.device_name\" :value=\"item.id\" :key=\"item.id\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"设备所在位置\" prop=\"equipment_location\">\r\n                    <el-cascader v-model=\"formData.location_address\" :options=\"positionData\" @change=\"nodeChange\" :props=\"{ checkStrictly: true,value:'id',label:'title',emitPath:false, }\" clearable></el-cascader>\r\n                </el-form-item>\r\n                <el-form-item label=\"关联值班地点\" prop=\"duty_position_id\" v-if=\"formData.device_type == 3\">\r\n                    <el-select placeholder=\"请选择\" clearable v-model=\"formData.duty_position_id\">\r\n                        <el-option v-for=\"item in dutyStation\" :label=\"item.dictionary_name\" :value=\"item.dictionary_value\" :key=\"item.dictionary_value\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"IP地址\">\r\n                    <el-input v-model=\"formData.ip_address\" placeholder=\"请输入IP...\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\" v-if='!checked'>\r\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    hashApi,\r\n    equipmentList,\r\n    equipmentView,\r\n    equipmentInfo,\r\n    equipmentAdd,\r\n    equipmentEdit,\r\n    equipmentDel,\r\n    equipmentDisabled,\r\n    equipmentTypeList,\r\n} from '@/api/index';\r\nexport default {\r\n    data() {\r\n        return {\r\n            total: 0,\r\n            page: 1,\r\n            pageSize: 15,\r\n            tableHeight: window.innerHeight - 180,\r\n            inputWidth: '300px',\r\n            dialogVisible: false,\r\n            dialogFormVisible: false,\r\n            title: '',//新增编辑标题\r\n            search: {\r\n                name: '',\r\n                address: '',\r\n                device_id: '',\r\n            },\r\n            formData: {},\r\n            equipment: [],\r\n            tableHead: [\r\n                { title: '序号', prop: 'id', minWidth: '120', },\r\n                { title: '设备类型', prop: 'device_type_txt', minWidth: '150', },\r\n                { title: '设备名称', prop: 'device_name', minWidth: '220', },\r\n                { title: '设备码', prop: 'device_code', minWidth: '180', },\r\n                { title: '设备所在位置', prop: 'location_txt', minWidth: '200', },\r\n                { title: '创建时间', prop: 'create_time', minWidth: '180', },\r\n                { title: 'ip', prop: 'ip_address', minWidth: '200', },\r\n                { title: '状态', prop: 'disabled', minWidth: '100', },\r\n            ],\r\n            tableData: [],\r\n            rule: {\r\n                device_type: [\r\n                    { required: true, message: '请选择设备类型', trigger: 'change' },\r\n                ],\r\n                device_name: [\r\n                    { required: true, message: '请输入设备名称', trigger: 'blur' },\r\n                ],\r\n                device_code: [\r\n                    { required: true, message: '请输入设备码', trigger: 'blur' },\r\n                ],\r\n                point_type: [\r\n                    { required: true, message: '请选择点位类型', trigger: 'change' },\r\n                ],\r\n                relevancy_id: [\r\n                    { required: true, message: '请选择关联视频设备', trigger: 'change' },\r\n                ],\r\n                lamp_device_id: [\r\n                    { required: true, message: '请选择关联预警灯', trigger: 'change' },\r\n                ],\r\n                duty_position_id: [\r\n                    { required: true, message: '请选择关联值班地点', trigger: 'change' },\r\n                ],\r\n                relevancy_device_type: [\r\n                    { required: true, message: '请选择关联设备类型', trigger: 'change' },\r\n                ],\r\n            },\r\n            deviceType: [],//设备类型列表\r\n            positionData: [],//设备所在位置\r\n            hash: '',\r\n            deviceList: [],//设备列表\r\n            dutyStation: [],//值班地点列表\r\n            checked: false,\r\n            poinType: [],//点位类型列表\r\n            type: [\r\n                { id: 1, name: '电子班牌' },\r\n                { id: 2, name: '显示屏' }\r\n            ],\r\n            warningLight: [],//预警灯列表\r\n        };\r\n    },\r\n    mounted() {\r\n        this.getList();\r\n        this.getHash();\r\n        this.resView();\r\n        this.typeList();\r\n    },\r\n    methods: {\r\n        typeChange(e) {\r\n            this.typeList(e);\r\n        },\r\n        serchList() {\r\n            this.page = 1;\r\n            this.pageSize = 15;\r\n            this.getList()\r\n        },\r\n        async statusChange(e, i) {\r\n            const res = await this.axios.post(equipmentDisabled, { id: e.id, disabled: i ? 0 : 1 });\r\n            if (res.data.code == 1) {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: 'success'\r\n                });\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: 'error'\r\n                });\r\n            }\r\n            this.getList();\r\n            this.resView();\r\n        },\r\n        nodeChange(e) {\r\n            this.formData.location_address = e;\r\n        },\r\n        // 监听 pagesize 改变\r\n        handleSizeChange(newSize) {\r\n            this.page = 1;\r\n            this.pageSize = newSize;\r\n            this.getList();\r\n        },\r\n        // 监听 pagenum 改变\r\n        handleCurrentChange(newPage) {\r\n            this.page = newPage;\r\n            this.getList();\r\n        },\r\n        add() {\r\n            this.title = '新增设备';\r\n            this.checked = false;\r\n            this.dialogFormVisible = true;\r\n            this.resetForm();\r\n        },\r\n        //编辑\r\n        editBtn(row) {\r\n            this.title = '编辑设备';\r\n            this.checked = false;\r\n            this.dialogFormVisible = true;\r\n            this.resetForm();\r\n            this.getInfo(row.id);\r\n        },\r\n        check(row) {\r\n            this.title = '查看设备';\r\n            this.checked = true;\r\n            this.dialogFormVisible = true;\r\n            this.resetForm();\r\n            this.getInfo(row.id);\r\n        },\r\n        resetForm() {\r\n            this.formData = {\r\n                device_type: '',\r\n                device_name: '',\r\n                device_code: '',\r\n                point_type: '',\r\n                relevancy_id: '',\r\n                lamp_device_id: '',\r\n                location_address: '',\r\n                duty_position_id: '',\r\n                ip_address: '',\r\n                relevancy_device_type: '',\r\n            };\r\n            this.$nextTick(() => {\r\n                this.$refs['formData'].resetFields();\r\n            })\r\n        },\r\n        handleClose() {\r\n            this.resetForm()\r\n            this.dialogFormVisible = false;\r\n        },\r\n        async getInfo(id) {\r\n            const res = await this.axios.post(equipmentInfo, { id: id });\r\n            if (res.data.code == 1) {\r\n                if (res.data.data.info) {\r\n                    res.data.data.info.duty_position_id = String(res.data.data.info.duty_position_id)\r\n                }\r\n                this.formData = res.data.data.info;\r\n                this.formData.location_address = res.data.data.info.location;\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: 'error'\r\n                });\r\n            }\r\n        },\r\n        async getList() {\r\n            let data = {\r\n                page: this.page,\r\n                pageSize: this.pageSize,\r\n                device_type: this.search.device_id,\r\n                location: this.search.address,\r\n                title: this.search.name,\r\n            }\r\n            const res = await this.axios.post(equipmentList, data);\r\n            if (res.data.code == 1) {\r\n                res.data.data.data.forEach(item => {\r\n                    if (item.disabled == 1) {\r\n                        item.disabled = false;\r\n                    } else {\r\n                        item.disabled = true;\r\n                    }\r\n                });\r\n                this.tableData = res.data.data.data;\r\n                this.total = res.data.data.total;\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: 'error'\r\n                });\r\n            }\r\n        },\r\n        async typeList(e) {\r\n            const res = await this.axios.post(equipmentTypeList, { device_type: e });\r\n            if (res.data.code == 1) {\r\n                this.deviceList = res.data.data;\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: 'error'\r\n                });\r\n            }\r\n        },\r\n        async resView() {\r\n            const res = await this.axios.post(equipmentView,);\r\n            if (res.data.code == 1) {\r\n                this.deviceType = res.data.data.deviceType;\r\n                this.positionData = res.data.data.positionData;\r\n                this.dutyStation = res.data.data.dutyStation;\r\n                this.poinType = res.data.data.pointTypes;\r\n                this.warningLight = [];\r\n                res.data.data.device.forEach(e => {\r\n                    if (e.device_type == 6) {\r\n                        this.warningLight.push(e);\r\n                    }\r\n                })\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: 'error'\r\n                });\r\n            }\r\n        },\r\n        async getHash() {\r\n            const res = await this.axios.post(hashApi, { page_hash: 'equipmentManagement' });\r\n            if (res.data.code == 1) {\r\n                this.hash = res.data.data;\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: 'error'\r\n                });\r\n            }\r\n        },\r\n        submit() {\r\n            this.$refs['formData'].validate(async valid => {\r\n                if (valid) {\r\n                    await this.getHash();\r\n                    let data = {\r\n                        device_code: this.formData.device_code,\r\n                        device_type: this.formData.device_type,\r\n                        location: this.formData.location_address,\r\n                        device_name: this.formData.device_name,\r\n                        relevancy_id: this.formData.relevancy_id,\r\n                        lamp_device_id: this.formData.lamp_device_id,\r\n                        duty_position_id: this.formData.duty_position_id,\r\n                        ip_address: this.formData.ip_address,\r\n                        hash: this.hash,\r\n                        point_type: this.formData.point_type,\r\n                    }\r\n                    let api;\r\n                    if (this.title == '新增设备') {\r\n                        api = equipmentAdd\r\n                    } else {\r\n                        api = equipmentEdit;\r\n                        data.id = this.formData.id;\r\n                    }\r\n                    const res = await this.axios.post(api, data);\r\n                    if (res.data.code == 1) {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: res.data.msg,\r\n                            type: 'success'\r\n                        });\r\n                        this.dialogFormVisible = false;\r\n                    } else {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: res.data.msg,\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                    this.getList();\r\n                    this.getHash();\r\n                }\r\n            })\r\n        },\r\n        delBtn(id) {\r\n            this.$confirm('是否确定删除该设备', '删除提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            })\r\n                .then(() => {\r\n                    const datas = {\r\n                        id: id,\r\n                    };\r\n                    const res = this.axios.post(equipmentDel, datas).then(res => {\r\n                        if (res.data.code == 1) {\r\n                            this.$notify.success({\r\n                                showClose: true,\r\n                                message: res.data.msg,\r\n                                type: 'success'\r\n                            });\r\n                            if ((this.total - 1) % this.pageSize === 0 && this.total > 1) {\r\n                                this.page -= 1;\r\n                            }\r\n                            this.getList();\r\n                        } else {\r\n                            this.$notify.error({\r\n                                title: '失败',\r\n                                message: res.data.msg\r\n                            });\r\n                        }\r\n                    });\r\n                    this.getHash();\r\n                })\r\n                .catch(err => {\r\n                    this.$notify.error({\r\n                        title: '失败',\r\n                        message: '取消操作'\r\n                    });\r\n                });\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search {\r\n    display: flex;\r\n    padding: 12px 25px;\r\n    background: #fff;\r\n    .el-select {\r\n        margin-right: 24px;\r\n    }\r\n    .el-input {\r\n        width: auto;\r\n        margin-right: 24px;\r\n    }\r\n    .el-cascader {\r\n        margin-right: 24px;\r\n    }\r\n    .add {\r\n        flex: 1;\r\n        .btn_add {\r\n            float: right;\r\n        }\r\n        .el-input {\r\n            width: 500px;\r\n        }\r\n    }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/equipmentManagement/equipmentManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"equipmentManagement\"},[_c('div',{staticClass:\"search\"},[_c('el-select',{attrs:{\"clearable\":\"\",\"size\":\"small\",\"placeholder\":\"请选择设备类型\"},model:{value:(_vm.search.device_id),callback:function ($$v) {_vm.$set(_vm.search, \"device_id\", $$v)},expression:\"search.device_id\"}},_vm._l((_vm.deviceType),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.value,\"value\":item.id}})}),1),_vm._v(\" \"),_c('el-input',{attrs:{\"placeholder\":\"请选择设备名称\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.search.name),callback:function ($$v) {_vm.$set(_vm.search, \"name\", $$v)},expression:\"search.name\"}}),_vm._v(\" \"),_c('el-cascader',{attrs:{\"filterable\":\"\",\"size\":\"small\",\"options\":_vm.positionData,\"props\":{ checkStrictly: true,value:'id',label:'title',emitPath:false, },\"clearable\":\"\"},on:{\"change\":_vm.nodeChange},model:{value:(_vm.search.address),callback:function ($$v) {_vm.$set(_vm.search, \"address\", $$v)},expression:\"search.address\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.serchList()}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('div',{staticClass:\"add\"},[_c('el-button',{staticClass:\"btn_add\",attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.add}},[_vm._v(\"新增设备\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"home_table\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"element-loading-background\":\"rgba(0, 0, 0, 0.4)\",\"max-height\":_vm.tableHeight,\"size\":\"medium\"}},[_vm._l((_vm.tableHead),function(item,index){return [(item.prop!='disabled')?_c('el-table-column',{key:index,attrs:{\"prop\":item.prop,\"align\":\"center\",\"label\":item.title,\"min-width\":item.minWidth,\"show-overflow-tooltip\":true}}):_c('el-table-column',{key:index,attrs:{\"prop\":item.prop,\"align\":\"center\",\"label\":item.title,\"min-width\":item.minWidth},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.statusChange(scope.row,_vm.tableData[scope.$index][item.prop])}},model:{value:(_vm.tableData[scope.$index][item.prop]),callback:function ($$v) {_vm.$set(_vm.tableData[scope.$index], item.prop, $$v)},expression:\"tableData[scope.$index][item.prop]\"}})]}}],null,true)})]}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.editBtn(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.check(scope.row)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"color\":\"#ff2b2b\"},attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.delBtn(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{staticClass:\"pagination\",attrs:{\"background\":\"\",\"current-page\":_vm.page,\"page-sizes\":[15, 30, 50, 100],\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next, sizes,total\",\"total\":_vm.total,\"hide-on-single-page\":_vm.total<15? true:false},on:{\"update:currentPage\":function($event){_vm.page=$event},\"update:current-page\":function($event){_vm.page=$event},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{directives:[{name:\"dialogDrag\",rawName:\"v-dialogDrag\"}],attrs:{\"title\":_vm.title,\"visible\":_vm.dialogFormVisible,\"width\":\"700px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event},\"close\":_vm.handleClose}},[_c('el-form',{ref:\"formData\",attrs:{\"model\":_vm.formData,\"disabled\":_vm.checked,\"rules\":_vm.rule,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"设备类型\",\"prop\":\"device_type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择设备类型\"},model:{value:(_vm.formData.device_type),callback:function ($$v) {_vm.$set(_vm.formData, \"device_type\", $$v)},expression:\"formData.device_type\"}},_vm._l((_vm.deviceType),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.value,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设备名称\",\"prop\":\"device_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入设备名称\"},model:{value:(_vm.formData.device_name),callback:function ($$v) {_vm.$set(_vm.formData, \"device_name\", $$v)},expression:\"formData.device_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设备码\",\"prop\":\"device_code\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入设备码\"},model:{value:(_vm.formData.device_code),callback:function ($$v) {_vm.$set(_vm.formData, \"device_code\", $$v)},expression:\"formData.device_code\"}})],1),_vm._v(\" \"),(_vm.formData.device_type == 4)?_c('el-form-item',{attrs:{\"label\":\"点位类型\",\"prop\":\"point_type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择点位类型\"},model:{value:(_vm.formData.point_type),callback:function ($$v) {_vm.$set(_vm.formData, \"point_type\", $$v)},expression:\"formData.point_type\"}},_vm._l((_vm.poinType),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.value,\"value\":item.id}})}),1)],1):_vm._e(),_vm._v(\" \"),(_vm.formData.device_type == 3)?_c('el-form-item',{attrs:{\"label\":\"关联设备类型\",\"prop\":\"relevancy_device_type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择关联设备类型\",\"clearable\":\"\"},on:{\"change\":_vm.typeChange},model:{value:(_vm.formData.relevancy_device_type),callback:function ($$v) {_vm.$set(_vm.formData, \"relevancy_device_type\", $$v)},expression:\"formData.relevancy_device_type\"}},_vm._l((_vm.type),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1):_vm._e(),_vm._v(\" \"),(_vm.formData.device_type == 3)?_c('el-form-item',{attrs:{\"label\":\"关联设备\",\"prop\":\"relevancy_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择关联设备\",\"clearable\":\"\"},model:{value:(_vm.formData.relevancy_id),callback:function ($$v) {_vm.$set(_vm.formData, \"relevancy_id\", $$v)},expression:\"formData.relevancy_id\"}},_vm._l((_vm.deviceList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.device_name,\"value\":item.id}})}),1)],1):_vm._e(),_vm._v(\" \"),(_vm.formData.device_type == 3)?_c('el-form-item',{attrs:{\"label\":\"关联预警灯\",\"prop\":\"lamp_device_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择关联预警灯\",\"clearable\":\"\"},model:{value:(_vm.formData.lamp_device_id),callback:function ($$v) {_vm.$set(_vm.formData, \"lamp_device_id\", $$v)},expression:\"formData.lamp_device_id\"}},_vm._l((_vm.warningLight),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.device_name,\"value\":item.id}})}),1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设备所在位置\",\"prop\":\"equipment_location\"}},[_c('el-cascader',{attrs:{\"options\":_vm.positionData,\"props\":{ checkStrictly: true,value:'id',label:'title',emitPath:false, },\"clearable\":\"\"},on:{\"change\":_vm.nodeChange},model:{value:(_vm.formData.location_address),callback:function ($$v) {_vm.$set(_vm.formData, \"location_address\", $$v)},expression:\"formData.location_address\"}})],1),_vm._v(\" \"),(_vm.formData.device_type == 3)?_c('el-form-item',{attrs:{\"label\":\"关联值班地点\",\"prop\":\"duty_position_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\"},model:{value:(_vm.formData.duty_position_id),callback:function ($$v) {_vm.$set(_vm.formData, \"duty_position_id\", $$v)},expression:\"formData.duty_position_id\"}},_vm._l((_vm.dutyStation),function(item){return _c('el-option',{key:item.dictionary_value,attrs:{\"label\":item.dictionary_name,\"value\":item.dictionary_value}})}),1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"IP地址\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入IP...\"},model:{value:(_vm.formData.ip_address),callback:function ($$v) {_vm.$set(_vm.formData, \"ip_address\", $$v)},expression:\"formData.ip_address\"}})],1)],1),_vm._v(\" \"),(!_vm.checked)?_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确 定\")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-198de12d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/equipmentManagement/equipmentManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-198de12d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./equipmentManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./equipmentManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./equipmentManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-198de12d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./equipmentManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-198de12d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/equipmentManagement/equipmentManagement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}