webpackJsonp([5],{P1xV:function(e,t){e.exports="data:image/png;base64,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"},Wg9h:function(e,t){},cC0V:function(e,t){e.exports="data:image/png;base64,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"},srkf:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,s=i("bOdI"),l=i.n(s),r=i("Xxa5"),o=i.n(r),n=i("exGp"),A=i.n(n),c=i("gyMJ"),f=i("2Uyi"),d={data:function(){return{total:0,page:1,pageSize:15,tableHeight:window.innerHeight-180,inputWidth:"300px",imgViewerVisible:!1,dialogFormVisible:!1,title:"",imgList:[],action:c._148,actionFile:c._149,search:{name:"",address:"",file_type:""},formData:{},equipment:[],tableHead:[{title:"序号",prop:"id",minWidth:"100"},{title:"素材名称",prop:"title",minWidth:"200"},{title:"素材类型",prop:"file_type_txt",minWidth:"100"},{title:"素材预览",prop:"file",minWidth:"150"},{title:"素材时长",prop:"file_length_txt",minWidth:"120"},{title:"上传时间",prop:"create_time",minWidth:"150"}],tableData:[],rule:{fileType:[{required:!0,message:"请选择素材类型",trigger:"change"}],title:[{required:!0,message:"请输入素材名称",trigger:"blur"}]},fileTypeList:[],positionData:[],hash:"",deviceList:[],dutyStation:[],poinType:[],baseUrl:"",fileListImg:[],fileList:[],dialogImageUrl:"",fileId:[],files:[],source:{source:"pc",source_id:"0"},audioDuration:"",limit:9,disabled:!1}},computed:{headers:function(){return{token:localStorage.getItem("token")}}},components:{"el-image-viewer":function(){return i.e(54).then(i.bind(null,"5Wmi"))}},mounted:function(){this.baseUrl="http://xwcs.xyruxue.com/",this.getList(),this.getHash()},methods:(a={serchList:function(){this.page=1,this.pageSize=15,this.getList()},videoClick:function(e){window.open(e,"_blank")},handleSizeChange:function(e){this.page=1,this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.page=e,this.getList()},handleRemove:function(e,t){var i=this;"success"==e.status&&this.fileListImg.map(function(t,a){t.file_id==e.file_id&&(i.fileList.splice(a,1),i.fileListImg.splice(a,1))})},beforeAvatarUpload:function(e){this.disabled=!0;var t="image/jpeg"===e.type,i="image/png"===e.type,a=e.size/1024/1024<10;return t||i?a?void 0:(this.$message.error("上传图片大小不能超过 10MB!"),this.disabled=!1,!1):(this.$message.error("上传图片只能是 JPG、PNG、JPEG 格式!"),this.disabled=!1,!1)},handleAvatarError:function(e,t){Object(f.d)(e.msg)},handleExceed:function(e,t){this.$message.warning("当前限制选择 "+t.length+" 个文件")},handleAvatarSuccess:function(e,t){1==e.code?(this.fileList.push(e.data.file_id),this.fileListImg.push({url:this.baseUrl+e.data.file_path,file_id:e.data.file_id}),this.disabled=!1):Object(f.d)(e.msg)},handlePictureCardPreview:function(e){this.showImgViewer(),this.imgList=[e.url]},showImgViewer:function(){this.imgViewerVisible=!0;document.body.style.overflow="hidden",document.addEventListener("touchmove",function(e){e.preventDefault()},!1)},closeImgViewer:function(){this.imgViewerVisible=!1;document.body.style.overflow="auto",document.removeEventListener("touchmove",function(e){e.preventDefault()},!0)}},l()(a,"handleExceed",function(e,t){this.$message.warning("只可上传 "+e.length+" 个文件")}),l()(a,"beforeFileUpload",function(e){this.disabled=!0;var t=e.name.substring(e.name.lastIndexOf(".")+1),i=e.size/1024/1024<200,a=e.size/1024/1024<50;if(2==this.formData.fileType){if(-1==["MP4","mp4","mov","avi","wmv","flv","asf","f4v"].indexOf(t))return this.$message.error("上传视频只能是MP4、mp4、mov、avi、wmv、flv、asf、f4v格式!"),!1;if(!i)return this.$message.error("上传视频大小不能超过 200MB!"),!1}else if(3==this.formData.fileType){if(-1==["mp3","MP3"].indexOf(t))return this.$message.error("上传音频只能是mp3格式!"),!1;if(!a)return this.$message.error("上传视频大小不能超过 50MB!"),!1}this.getTimes(e)}),l()(a,"fileSuccess",function(e,t){1==e.code?(Object(f.e)("上传成功！","success"),this.fileId=[],this.files=[],this.fileId.push(e.file_id),this.files.push({url:this.baseUrl+e.url,file_id:e.file_id}),this.disabled=!1):Object(f.d)(e.msg)}),l()(a,"preview",function(e){e.response?window.open(this.baseUrl+e.response.url,"_blank"):window.open(e.url?e.url:this.baseUrl+e.file_path,"_blank")}),l()(a,"fileRemove",function(e){this.fileList=[],this.files=[]}),l()(a,"add",function(){this.title="新增素材",this.limit=9,this.dialogFormVisible=!0}),l()(a,"edit",function(e){var t=this;this.disabled=!1,this.title="编辑素材",this.limit=1,this.dialogFormVisible=!0,this.resetForm(),this.$nextTick(function(){t.formData=e,t.formData.fileType=e.file_type,t.audioDuration=e.file_length,1==e.file_type?(t.fileListImg.push({url:t.baseUrl+e.file.file_small,file_id:e.file.id}),t.fileList.push(e.file_id)):2!=e.file_type&&3!=e.file_type||(t.fileId.push(e.file_id),t.files.push(e.file))})}),l()(a,"typeChange",function(e){this.files=[],this.fileList=[],this.fileListImg=[],this.fileId=[]}),l()(a,"resetForm",function(){var e=this;this.formData={title:"",fileType:""},this.files=[],this.fileList=[],this.fileListImg=[],this.fileId=[],this.audioDuration="",this.$nextTick(function(){e.$refs.formData.resetFields()})}),l()(a,"handleClose",function(){this.resetForm(),this.dialogFormVisible=!1}),l()(a,"getList",function(){var e=this;return A()(o.a.mark(function t(){var i,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={page:e.page,pageSize:e.pageSize,fileType:e.search.file_type,title:e.search.name},t.next=3,e.axios.post(c._33,i);case 3:1==(a=t.sent).data.code?(e.fileTypeList=a.data.data.fileTypeList,e.tableData=a.data.data.list.data,e.total=a.data.data.list.total):e.$message({showClose:!0,message:a.data.msg,type:"error"});case 5:case"end":return t.stop()}},t,e)}))()}),l()(a,"getHash",function(){var e=this;return A()(o.a.mark(function t(){var i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.axios.post(c._20,{page_hash:"equipmentManagement"});case 2:1==(i=t.sent).data.code?e.hash=i.data.data:e.$message({showClose:!0,message:i.data.msg,type:"error"});case 4:case"end":return t.stop()}},t,e)}))()}),l()(a,"submit",function(){var e,t=this;this.$refs.formData.validate((e=A()(o.a.mark(function e(i){var a,s,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=22;break}return e.next=3,t.getHash();case 3:if(1!=t.formData.fileType){e.next=9;break}if(0!=t.fileListImg.length){e.next=7;break}return t.$message({showClose:!0,message:"请上传素材",type:"error"}),e.abrupt("return");case 7:e.next=12;break;case 9:if(0!=t.files.length){e.next=12;break}return t.$message({showClose:!0,message:"请上传素材",type:"error"}),e.abrupt("return");case 12:return console.log(t.audioDuration),a={title:t.formData.title,fileType:t.formData.fileType,fileLength:1!=t.formData.fileType?t.audioDuration:"0",hash:t.hash},s=void 0,"新增素材"==t.title?(s=c._30,a.fileIds=1==t.formData.fileType?t.fileList.join(","):t.fileId.join(",")):(s=c._32,a.id=t.formData.id,a.fileId=1==t.formData.fileType?t.fileList.join(","):t.fileId.join(",")),e.next=18,t.axios.post(s,a);case 18:1==(l=e.sent).data.code?(t.$message({showClose:!0,message:l.data.msg,type:"success"}),t.dialogFormVisible=!1):t.$message({showClose:!0,message:l.data.msg,type:"error"}),t.getList(),t.getHash();case 22:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))}),l()(a,"delBtn",function(e){var t=this;this.$confirm("是否确定删除该素材,请谨慎操作","删除提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var i={id:e};t.axios.post(c._31,i).then(function(e){1==e.data.code?(t.$notify.success({showClose:!0,message:e.data.msg,type:"success"}),(t.total-1)%t.pageSize==0&&t.total>1&&(t.page-=1),t.getList()):t.$notify.error({title:"失败",message:e.data.msg})});t.getHash()}).catch(function(e){t.$notify.error({title:"失败",message:"取消操作"})})}),l()(a,"getTimes",function(e){var t=this,i=e,a=URL.createObjectURL(i),s=new Audio(a);console.log(s),s.addEventListener("loadedmetadata",function(e){console.log(s),t.audioDuration=parseInt(s.duration)})}),a)},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"equipmentManagement"},[a("div",{staticClass:"search"},[a("el-select",{attrs:{clearable:"",size:"small",placeholder:"请选择素材类型"},model:{value:e.search.file_type,callback:function(t){e.$set(e.search,"file_type",t)},expression:"search.file_type"}},e._l(e.fileTypeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}),1),e._v(" "),a("el-input",{attrs:{placeholder:"请选择素材名称",clearable:"",size:"small"},model:{value:e.search.name,callback:function(t){e.$set(e.search,"name",t)},expression:"search.name"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-search"},on:{click:function(t){return e.serchList()}}},[e._v("查询")]),e._v(" "),a("div",{staticClass:"add"},[a("el-button",{staticClass:"btn_add",attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:e.add}},[e._v("新增素材")])],1)],1),e._v(" "),a("div",{staticClass:"home_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","element-loading-background":"rgba(0, 0, 0, 0.4)","max-height":e.tableHeight,size:"medium"}},[e._l(e.tableHead,function(t,i){return["file"!=t.prop?a("el-table-column",{key:i,attrs:{prop:t.prop,align:"center",label:t.title,"min-width":t.minWidth,"show-overflow-tooltip":!0}}):a("el-table-column",{key:i,attrs:{prop:t.prop,align:"center",label:t.title,"min-width":t.minWidth,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.file_type?a("el-image",{staticStyle:{width:"18px",height:"18px"},attrs:{src:e.baseUrl+t.row.file.file_small,"preview-src-list":[e.baseUrl+t.row.file.file_path]}}):2==t.row.file_type?a("video",{attrs:{src:e.baseUrl+t.row.file.file_path,height:"18px"},on:{click:function(i){return e.videoClick(e.baseUrl+t.row.file.file_path)}}}):3==t.row.file_type?a("el-link",{attrs:{underline:!1,target:"_blank",type:"primary",href:e.baseUrl+t.row.file.file_path}},[e._v(e._s(t.row.file.file_name))]):e._e()]}}],null,!0)})]}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作",fixed:"right",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.edit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticStyle:{color:"#ff2b2b"},attrs:{type:"text",size:"small"},on:{click:function(i){return e.delBtn(t.row.id)}}},[e._v("删除")])]}}])})],2)],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":e.page,"page-sizes":[15,30,50,100],"page-size":e.pageSize,layout:"prev, pager, next, sizes,total",total:e.total,"hide-on-single-page":e.total<15},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"dialog",attrs:{title:e.title,visible:e.dialogFormVisible,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.handleClose}},[a("el-form",{ref:"formData",attrs:{model:e.formData,rules:e.rule,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"素材名称",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入素材名称"},model:{value:e.formData.title,callback:function(t){e.$set(e.formData,"title",t)},expression:"formData.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"素材类型",prop:"fileType"}},[a("el-select",{attrs:{placeholder:"请选择素材类型"},on:{change:e.typeChange},model:{value:e.formData.fileType,callback:function(t){e.$set(e.formData,"fileType",t)},expression:"formData.fileType"}},e._l(e.fileTypeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"上传素材"}},[1==e.formData.fileType?a("el-upload",{attrs:{action:e.action,headers:e.headers,"list-type":"picture-card","file-list":e.fileListImg,"on-preview":e.handlePictureCardPreview,limit:e.limit,"on-remove":e.handleRemove,"on-success":e.handleAvatarSuccess,"on-error":e.handleAvatarError,"on-exceed":e.handleExceed,"before-upload":e.beforeAvatarUpload}},[a("i",{staticClass:"el-icon-plus"})]):e._e(),e._v(" "),2==e.formData.fileType||3==e.formData.fileType?a("el-upload",{attrs:{action:e.actionFile,headers:e.headers,limit:1,data:e.source,"on-exceed":e.handleExceed,"before-upload":e.beforeFileUpload,"on-success":e.fileSuccess,"on-error":e.handleAvatarError,"file-list":e.files,"list-type":"picture-card"},scopedSlots:e._u([{key:"file",fn:function(t){var s=t.file;return a("div",{},[3==e.formData.fileType?a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:i("cC0V"),alt:""}}):e._e(),e._v(" "),2==e.formData.fileType?a("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:i("P1xV"),alt:""}}):e._e(),e._v(" "),a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-list__item-preview",on:{click:function(t){return e.preview(s)}}},[a("i",{staticClass:"el-icon-zoom-in"})]),e._v(" "),a("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.fileRemove(s)}}},[a("i",{staticClass:"el-icon-delete"})])])])}}],null,!1,2317345772)},[a("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})]):e._e()],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.disabled},on:{click:e.submit}},[e._v("确 定")])],1)],1),e._v(" "),e.imgViewerVisible?a("el-image-viewer",{attrs:{"on-close":e.closeImgViewer,"url-list":e.imgList}}):e._e()],1)},staticRenderFns:[]};var g=i("VU/8")(d,u,!1,function(e){i("Wg9h")},"data-v-641c750c",null);t.default=g.exports}});
//# sourceMappingURL=5.2ad6209161f3462c5a7a.js.map