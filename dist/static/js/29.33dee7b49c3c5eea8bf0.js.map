{"version":3,"sources":["webpack:///src/views/accountManagement/cityAccount.vue","webpack:///./src/views/accountManagement/cityAccount.vue?c106","webpack:///./src/views/accountManagement/cityAccount.vue"],"names":["cityAccount","data","title","dialogVisible","switchVal","tableHead","prop","width","minwidth","tableData","nodeData","infoData","hasNodes","defaultProps","children","label","disabled","isLoading","dataForm","id","user_name","password","real_name","mobile","main_account","method_auth","actAdd","actEdit","actDelete","setState","main_auth","total","curr","hash","tableHeight","window","innerHeight","pageSize","rules","required","message","trigger","pattern","min","mounted","this","getList","getHash","methods","_methods","handleSizeChange","newSize","console","log","handleCurrentChange","newPage","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","resources","obj","wrap","_context","prev","next","axios","post","api","pagesize","sent","code","map","value","method_name","exist","$message","showClose","msg","type","stop","resetForm","addBtn","_this2","$nextTick","$refs","clearValidate","getNodeData","createData","_ref","_this3","validate","_callee2","valid","datas","_context2","node_ids","tree","getCheckedKeys","concat","getHalfCheckedKeys","join","_x","apply","arguments","updateData","_this4","_callee4","_context4","_ref2","_callee3","_context3","_x2","defineProperty_default","row","_this5","getInfoData","_this6","$confirm","confirmButtonText","cancelButtonText","then","deleted","$notify","success","error","catch","_this7","_callee5","_context5","page_hash","key","val","idx","_this8","_callee6","vals","url","_context6","state","e","_this9","_callee7","arr","_context7","_this10","setCheckedKeys","forEach","i","node","getNode","isLeaf","setChecked","push","item","_this11","_callee8","_context8","nodes","accountManagement_cityAccount","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","icon","on","click","_v","directives","name","rawName","expression","staticStyle","border","element-loading-background","height","_l","index","scopedSlots","_u","fn","scope","change","$event","switchChange","$index","model","callback","$$v","$set","min-width","show-overflow-tooltip","fixed","editBtn","color","handleDelete","background","current-page","page-sizes","page-size","layout","hide-on-single-page","update:currentPage","update:current-page","size-change","current-change","visible","close-on-click-modal","update:visible","close","handleClose","ref","status-icon","label-position","label-width","inline","placeholder","maxlength","span","display","show-checkbox","check-on-click-node","node-key","default-expand-all","props","slot","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/29.33dee7b49c3c5eea8bf0.js","sourcesContent":["<template>\r\n    <div class=\"main\">\r\n        <div class=\"cityAccount\">\r\n            <div class=\"searchA\">\r\n                <div class=\"add\">\r\n                    <el-button size=\"small\" type=\"primary\" icon=\"el-icon-plus\" :disabled=\"!method_auth.actAdd ? true : false\" @click=\"addBtn\">新增</el-button>\r\n                </div>\r\n            </div>\r\n            <div class=\"home_table\">\r\n                <el-table :data=\"tableData\" border v-loading=\"isLoading\" size=\"medium\" element-loading-background=\"rgba(0, 0, 0, 0.4)\" :height=\"tableHeight\" style=\"width: 100%\">\r\n                    <template v-for=\"(item, index) in tableHead\">\r\n                        <el-table-column :prop=\"item.prop\" :label=\"item.title\" :key=\"index\" v-if=\"item.title == '状态'\" width=\"100\">\r\n                            <template slot-scope=\"scope\">\r\n                                <el-switch v-model=\"tableData[scope.$index][item.prop]\" @change=\"\r\n                                    switchChange(\r\n                                    scope.row.id,\r\n                                    item.prop,\r\n                                    tableData[scope.$index][item.prop],\r\n                                    scope.$index\r\n                                    )\r\n                                \" :disabled=\"!method_auth.setState\"></el-switch>\r\n                            </template>\r\n                        </el-table-column>\r\n                        <el-table-column :prop=\"item.prop\" :label=\"item.title\" :key=\"index\" :width=\"item.width\" :min-width=\"item.minwidth\" :show-overflow-tooltip=\"true\" v-else></el-table-column>\r\n                    </template>\r\n\r\n                    <el-table-column prop=\"address\" label=\"操作\" fixed=\"right\" width=\"150\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button @click=\"editBtn(scope.row)\" type=\"text\" :disabled=\"!method_auth.actEdit ? true : false\" size=\"small\">编辑</el-button>\r\n                            <el-button @click=\"handleDelete(scope.row)\" type=\"text\" size=\"small\" style=\"color: #ff2b2b\" :disabled=\"!method_auth.actDelete ? true : false\">删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n            <div class=\"pagination\">\r\n                <el-pagination background :current-page.sync=\"curr\" :page-sizes=\"[15, 30, 50, 100]\" :page-size=\"pageSize\" layout=\"prev, pager, next, sizes, total\" :total=\"total\" class=\"pagination\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :hide-on-single-page=\"total<15? true:false\" />\r\n            </div>\r\n            <!-- 新增编辑弹窗 -->\r\n            <el-dialog class=\"dialogStyle\" :title=\"title\" v-dialogDrag :visible.sync=\"dialogVisible\" width=\"500px\" v-if=\"dialogVisible\" :close-on-click-modal=\"false\" @close=\"handleClose\">\r\n                <el-form ref=\"dataForm\" :rules=\"rules\" :model=\"dataForm\" status-icon label-position=\"top\" label-width=\"100px\" :inline=\"true\">\r\n                    <el-form-item label=\"登录账号\" prop=\"user_name\">\r\n                        <el-input v-model=\"dataForm.user_name\" placeholder=\"请输入登录手机号码\" size=\"small\" maxlength=\"11\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"姓名\" prop=\"real_name\">\r\n                        <el-input v-model=\"dataForm.real_name\" placeholder=\"请输入姓名\" size=\"small\" />\r\n                    </el-form-item>\r\n                    <el-form-item label=\"手机号\">\r\n                        <el-input v-model=\"dataForm.mobile\" placeholder=\"微信/i襄阳注册手机号\" size=\"small\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"密码\" prop=\"password\" v-if=\"title == '新增'\">\r\n                        <el-input v-model=\"dataForm.password\" placeholder=\"请输入密码\" size=\"small\" type=\"password\" />\r\n                    </el-form-item>\r\n                    <el-form-item label=\"密码\" prop=\"password\" v-else>\r\n                        <el-input v-model=\"dataForm.password\" placeholder=\"不修改请留空\" size=\"small\" type=\"password\" />\r\n                    </el-form-item>\r\n                    <el-row>\r\n                        <el-col :span=\"12\">\r\n                            <el-form-item label=\"负责人权限\">\r\n                                <el-switch v-model=\"dataForm.main_account\"></el-switch>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                        <el-col :span=\"12\">\r\n                            <el-form-item label=\"状态\">\r\n                                <el-switch v-model=\"dataForm.disabled\" :disabled=\"!method_auth.setState\"></el-switch>\r\n                            </el-form-item>\r\n                        </el-col>\r\n                    </el-row>\r\n\r\n                    <div class=\"dialogInput\">\r\n                        <div class=\"padd\">\r\n                            <div class=\"paddTit\">资源权限</div>\r\n                            <div class=\"tree_main\">\r\n                                <el-form-item style=\"display: block;\">\r\n                                    <el-tree :data=\"nodeData\" show-checkbox check-on-click-node node-key=\"id\" ref=\"tree\" default-expand-all :props=\"defaultProps\">\r\n                                    </el-tree>\r\n                                </el-form-item>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </el-form>\r\n\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button type=\"primary\" class=\"btn\" @click=\"createData\" v-if=\"title == '新增'\">确 定</el-button>\r\n                    <el-button type=\"primary\" class=\"btn\" @click=\"updateData()\" v-else>确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {\r\n    hashApi,\r\n    cityManageListApi,\r\n    cityManageAddApi,\r\n    cityManageEditApi,\r\n    cityManageDeleteApi,\r\n    cityManageInfoApi,\r\n    cityManageViewApi,\r\n    cityManageSetApi,\r\n\r\n} from '@/api/index';\r\nexport default {\r\n    data() {\r\n        return {\r\n            title: '',\r\n            dialogVisible: false,\r\n            switchVal: true,\r\n            tableHead: [\r\n                { title: '编号', prop: 'id', width: '100' },\r\n                { title: '登录账号', prop: 'user_name', minwidth: '150' },\r\n                { title: '姓名', prop: 'real_name', minwidth: '100' },\r\n                { title: '手机号', prop: 'mobile', minwidth: '150' },\r\n                { title: '状态', prop: 'disabled' }\r\n            ],\r\n            tableData: [],\r\n            nodeData: [],\r\n            infoData: [],\r\n            hasNodes: [],\r\n            defaultProps: {\r\n                children: 'children',\r\n                label: 'node_name',\r\n                disabled: 'defaulted',\r\n            },\r\n            isLoading: false,\r\n            // 表单参数\r\n            dataForm: {\r\n                id: 0,\r\n                user_name: '', // 用户名\r\n                password: '', // 密码\r\n                real_name: '', // 真实姓名\r\n                mobile: '', // 手机号码\r\n                main_account: true, // 是否主账号\r\n                disabled: true // 启动0，禁用1\r\n            },\r\n            method_auth: {\r\n                actAdd: 0,\r\n                actEdit: 0,\r\n                actDelete: 0,\r\n                setState: 0,\r\n            },\r\n            main_account: true,\r\n            disabled: true,\r\n            main_auth: 0,\r\n            total: 0,\r\n            curr: 1,\r\n            hash: '',\r\n            tableHeight: window.innerHeight - 180,\r\n            pageSize: 15,\r\n            // 表单校验\r\n            rules: {\r\n                user_name: [\r\n                    { required: true, message: '请输入登录手机号码', trigger: 'blur' },\r\n                    {\r\n                        required: true,\r\n                        pattern: /^1\\d{10}$/,\r\n                        message: '手机号格式错误',\r\n                        trigger: 'blur'\r\n                    }\r\n                ],\r\n                real_name: [\r\n                    { required: true, message: '请输入真实姓名', trigger: 'blur' }\r\n                ],\r\n                mobile: [\r\n                    { required: true, message: '请输入手机号', trigger: 'blur' },\r\n                    {\r\n                        required: true,\r\n                        pattern: /^1\\d{10}$/,\r\n                        message: '手机号格式错误',\r\n                        trigger: 'blur'\r\n                    }\r\n                ],\r\n                password: [{ min: 6, message: '密码必须大于6位', trigger: 'blur' }]\r\n            }\r\n        };\r\n    },\r\n    mounted() {\r\n        this.getList();\r\n        this.getHash();\r\n    },\r\n    methods: {\r\n        // 监听 pagesize 改变\r\n        handleSizeChange(newSize) {\r\n            console.log(newSize);\r\n            this.curr = 1;\r\n            this.pageSize = newSize;\r\n            this.getList();\r\n        },\r\n        // 监听 pagenum 改变\r\n        handleCurrentChange(newPage) {\r\n            this.curr = newPage;\r\n            this.getList();\r\n        },\r\n        //市级账号列表\r\n        async getList() {\r\n            this.isLoading = true;\r\n            const res = await this.axios.post(cityManageListApi, {\r\n                curr: this.curr,\r\n                pagesize: this.pageSize\r\n            });\r\n            if (res.data.code == 1) {\r\n                this.tableData = res.data.data.data;\r\n                this.total = res.data.data.total;\r\n                let resources = res.data.data.resources;\r\n                var obj = this.method_auth;\r\n                this.main_auth = res.data.data.resources.main_auth.main_account;\r\n                resources.method_auth.map(function (value) {\r\n                    if (value.method_name) {\r\n                        obj[value.method_name] = value.exist;\r\n                    }\r\n                });\r\n                this.method_auth = obj;\r\n                this.isLoading = false;\r\n            } else {\r\n                this.isLoading = false;\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: 'error'\r\n                });\r\n            }\r\n        },\r\n        //重置对话框表单\r\n        resetForm() {\r\n            this.dataForm = {\r\n                id: 0,\r\n                user_name: '', // 用户名\r\n                password: '', // 密码\r\n                real_name: '', // 真实姓名\r\n                mobile: '', // 手机号码\r\n                main_account: true, // 是否主账号\r\n                disabled: true // 启动0，禁用1\r\n            };\r\n            // this.$refs['dataForm'].resetFields();\r\n        },\r\n        // 点击新增\r\n        addBtn() {\r\n            this.title = '新增';\r\n            this.dialogVisible = true;\r\n            this.$nextTick(() => {\r\n                this.resetForm();\r\n                this.$refs['dataForm'].clearValidate();\r\n            });\r\n            this.getNodeData();//获取节点列表\r\n        },\r\n        // 市级账号增加\r\n        createData() {\r\n            this.$refs['dataForm'].validate(async valid => {\r\n                if (valid) {\r\n                    await this.getHash();\r\n                    if (this.dataForm.main_account == true) {\r\n                        this.main_account = 1;\r\n                    } else {\r\n                        this.main_account = 0;\r\n                    }\r\n                    if (this.dataForm.disabled == true) {\r\n                        this.disabled = 0;\r\n                    } else {\r\n                        this.disabled = 1;\r\n                    }\r\n                    let datas = {\r\n                        user_name: this.dataForm.user_name, // 用户名\r\n                        password: this.dataForm.password, // 密码\r\n                        real_name: this.dataForm.real_name, // 真实姓名\r\n                        mobile: this.dataForm.mobile,\r\n                        main_account: this.main_account, // 是否主账号\r\n                        disabled: this.disabled, // 启动0，禁用1\r\n                        node_ids: this.$refs.tree.getCheckedKeys().concat(this.$refs.tree.getHalfCheckedKeys()).join(','),\r\n                        hash: this.hash\r\n                    };\r\n                    const res = await this.axios.post(cityManageAddApi, datas);\r\n                    if (res.data.code == 1) {\r\n                        this.dialogVisible = false;\r\n                        this.getList();\r\n                        this.$message({\r\n                            message: res.data.msg,\r\n                            type: 'success'\r\n                        });\r\n                    } else {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: res.data.msg,\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                    this.getHash();\r\n                }\r\n            });\r\n        },\r\n        // 市级账号编辑\r\n        async updateData() {\r\n            this.$refs['dataForm'].validate(async valid => {\r\n                if (valid) {\r\n                    if (this.dataForm.main_account == true) {\r\n                        this.main_account = 1;\r\n                    } else {\r\n                        this.main_account = 0;\r\n                    }\r\n                    if (this.dataForm.disabled == true) {\r\n                        this.disabled = 0;\r\n                    } else {\r\n                        this.disabled = 1;\r\n                    }\r\n                    let datas = {\r\n                        id: this.dataForm.id,\r\n                        user_name: this.dataForm.user_name, // 用户名\r\n                        password: this.dataForm.password, // 密码\r\n                        real_name: this.dataForm.real_name, // 真实姓名\r\n                        mobile: this.dataForm.mobile,\r\n                        main_account: this.main_account, // 是否主账号\r\n                        disabled: this.disabled, // 启动0，禁用1\r\n                        node_ids: this.$refs.tree.getCheckedKeys().concat(this.$refs.tree.getHalfCheckedKeys()).join(','),\r\n                        hash: this.hash\r\n                    };\r\n                    const res = await this.axios.post(cityManageEditApi, datas);\r\n                    if (res.data.code == 1) {\r\n                        this.dialogVisible = false;\r\n                        this.getList();\r\n                        this.$message({\r\n                            message: res.data.msg,\r\n                            type: 'success'\r\n                        });\r\n                    } else {\r\n                        this.$message({\r\n                            showClose: true,\r\n                            message: res.data.msg,\r\n                            type: 'error'\r\n                        });\r\n                    }\r\n                    this.getHash();\r\n                }\r\n            });\r\n        },\r\n        //重置对话框表单\r\n        resetForm() {\r\n            this.dataForm = {\r\n                user_name: '',\r\n                real_name: '',\r\n                password: '',\r\n                mobile: '',\r\n                main_account: true,\r\n                disabled: true\r\n            };\r\n            this.nodeData = [];\r\n        },\r\n        // 点击编辑\r\n        editBtn(row) {\r\n            this.dataForm.password = '';\r\n            this.title = '编辑';\r\n            this.dialogVisible = true;\r\n            this.$nextTick(() => {\r\n                this.resetForm();\r\n                this.$refs['dataForm'].clearValidate();\r\n            });\r\n            this.getInfoData(row.id);\r\n            this.getHash();\r\n        },\r\n\r\n        //删除\r\n        handleDelete(row) {\r\n            this.$confirm('是否确认删除账号\"' + row.user_name + '\"?', '警告', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            })\r\n                .then(() => {\r\n                    const datas = {\r\n                        id: row.id,\r\n                        deleted: 1\r\n                    };\r\n                    const res = this.axios.post(cityManageDeleteApi, datas).then(res => {\r\n                        if (res.data.code == 1) {\r\n                            this.$notify.success({\r\n                                title: '成功',\r\n                                message: '删除成功'\r\n                            });\r\n                            if ((this.total - 1) % this.pageSize === 0 && this.total > 1) {\r\n                                this.curr -= 1;\r\n                            }\r\n                            this.getList();\r\n                        } else {\r\n                            this.$notify.error({\r\n                                title: '失败',\r\n                                message: res.data.msg\r\n                            });\r\n                        }\r\n                    });\r\n                    this.getHash();\r\n                })\r\n                .catch(res => {\r\n                    this.$notify.error({\r\n                        title: '失败',\r\n                        message: res.data.msg\r\n                    });\r\n                });\r\n        },\r\n        //关闭弹窗\r\n        handleClose() {\r\n            this.dialogVisible = false;\r\n        },\r\n        //获取hash\r\n        async getHash() {\r\n            const datas = {\r\n                page_hash: 'cityAccount'\r\n            };\r\n            const res = await this.axios.post(hashApi, datas);\r\n            if (res.data.code == 1) {\r\n                this.hash = res.data.data;\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: 'error'\r\n                });\r\n            }\r\n        },\r\n        // 切换表格状态开关\r\n        async switchChange(id, key, val, idx) {\r\n            let vals = val == true ? 1 : 0;\r\n            if (key == 'disabled') {\r\n                vals = val == false ? 1 : 0;\r\n                var url = cityManageSetApi;\r\n            }\r\n            let datas = {\r\n                id: id,\r\n                state: vals\r\n            };\r\n            const res = await this.axios.post(url, datas);\r\n            if (res.data.code == 1) {\r\n            } else {\r\n                this.tableData[idx][key] = !val;\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: 'error'\r\n                });\r\n            }\r\n        },\r\n        //获取节点列表\r\n        async getNodeData(e) {\r\n            this.nodeData = [];\r\n            const res = await this.axios.post(cityManageViewApi)\r\n            if (res.data.code == 1) {\r\n                this.nodeData = res.data.data;\r\n                if (e && this.title == '编辑') {\r\n                    this.$nextTick(function () {\r\n                        this.$refs.tree.setCheckedKeys([]);\r\n                        e.forEach((i) => {\r\n                            var node = this.$refs.tree.getNode(i);\r\n                            if (node && node.isLeaf) {\r\n                                this.$refs.tree.setChecked(node, true);\r\n                            }\r\n                        });\r\n                    })\r\n                } else {\r\n                    // 获取所有id 赋值树节点\r\n                    const arr = [];\r\n                    this.nodeData.forEach(data => {\r\n                        arr.push(data.id)\r\n                        if (data.children) {\r\n                            data.children.forEach(item => {\r\n                                arr.push(item.id)\r\n                            })\r\n                        }\r\n                    });\r\n                    this.$nextTick(function () {\r\n                        this.$refs.tree.setCheckedKeys(arr);\r\n                    })\r\n                }\r\n\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: \"error\"\r\n                });\r\n            }\r\n        },\r\n        //获取账号信息\r\n        async getInfoData(id) {\r\n            this.infoData = [];\r\n            const datas = {\r\n                id: id\r\n            };\r\n            const res = await this.axios.post(cityManageInfoApi, datas);\r\n            if (res.data.code == 1) {\r\n                this.infoData = res.data.data;\r\n                this.dataForm.id = res.data.data.id;\r\n                this.dataForm.user_name = res.data.data.user_name;\r\n                this.dataForm.real_name = res.data.data.real_name;\r\n                this.dataForm.mobile = res.data.data.mobile;\r\n                this.hasNodes = res.data.data.nodes;\r\n                this.getNodeData(this.hasNodes);\r\n                if (res.data.data.disabled == 1) {\r\n                    this.dataForm.disabled = false;\r\n                } else {\r\n                    this.dataForm.disabled = true;\r\n                }\r\n                if (res.data.data.main_account == 1) {\r\n                    this.dataForm.main_account = true;\r\n                } else {\r\n                    this.dataForm.main_account = false;\r\n                }\r\n                this.dataForm.password = '';\r\n            } else {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: res.data.msg,\r\n                    type: 'error'\r\n                });\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cityAccount {\r\n    .searchA {\r\n        display: flex;\r\n        padding: 12px 25px;\r\n        background: #fff;\r\n        .add {\r\n            flex: 1;\r\n            text-align: right;\r\n        }\r\n    }\r\n}\r\n// 弹窗\r\n/deep/ .dialogStyle {\r\n    .el-form-item {\r\n        margin-bottom: 20px !important;\r\n    }\r\n\r\n    .el-form-item__label {\r\n        line-height: 30px;\r\n    }\r\n\r\n    .el-form--label-top .el-form-item__label {\r\n        padding: 0;\r\n    }\r\n\r\n    .el-dialog__body {\r\n        padding: 30px 15px 10px 30px;\r\n    }\r\n\r\n    .el-input__inner {\r\n        width: 213px;\r\n    }\r\n}\r\n.dialogInput {\r\n    .tree_main {\r\n        border: 1px solid #dcdfe6;\r\n        padding: 15px;\r\n        max-height: 300px;\r\n        overflow-y: auto;\r\n        margin-right: 10px;\r\n    }\r\n    .padd {\r\n        width: 100%;\r\n        margin-bottom: 10px;\r\n        .paddTit {\r\n            margin-bottom: 10px;\r\n        }\r\n\r\n        .paddTit::before {\r\n            content: '*';\r\n            color: #f56c6c;\r\n            margin-right: 4px;\r\n        }\r\n    }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/accountManagement/cityAccount.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"cityAccount\"},[_c('div',{staticClass:\"searchA\"},[_c('div',{staticClass:\"add\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"disabled\":!_vm.method_auth.actAdd ? true : false},on:{\"click\":_vm.addBtn}},[_vm._v(\"新增\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"home_table\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\",\"size\":\"medium\",\"element-loading-background\":\"rgba(0, 0, 0, 0.4)\",\"height\":_vm.tableHeight}},[_vm._l((_vm.tableHead),function(item,index){return [(item.title == '状态')?_c('el-table-column',{key:index,attrs:{\"prop\":item.prop,\"label\":item.title,\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"disabled\":!_vm.method_auth.setState},on:{\"change\":function($event){return _vm.switchChange(\n                                scope.row.id,\n                                item.prop,\n                                _vm.tableData[scope.$index][item.prop],\n                                scope.$index\n                                )}},model:{value:(_vm.tableData[scope.$index][item.prop]),callback:function ($$v) {_vm.$set(_vm.tableData[scope.$index], item.prop, $$v)},expression:\"tableData[scope.$index][item.prop]\"}})]}}],null,true)}):_c('el-table-column',{key:index,attrs:{\"prop\":item.prop,\"label\":item.title,\"width\":item.width,\"min-width\":item.minwidth,\"show-overflow-tooltip\":true}})]}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"disabled\":!_vm.method_auth.actEdit ? true : false,\"size\":\"small\"},on:{\"click\":function($event){return _vm.editBtn(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"color\":\"#ff2b2b\"},attrs:{\"type\":\"text\",\"size\":\"small\",\"disabled\":!_vm.method_auth.actDelete ? true : false},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{staticClass:\"pagination\",attrs:{\"background\":\"\",\"current-page\":_vm.curr,\"page-sizes\":[15, 30, 50, 100],\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next, sizes, total\",\"total\":_vm.total,\"hide-on-single-page\":_vm.total<15? true:false},on:{\"update:currentPage\":function($event){_vm.curr=$event},\"update:current-page\":function($event){_vm.curr=$event},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),(_vm.dialogVisible)?_c('el-dialog',{directives:[{name:\"dialogDrag\",rawName:\"v-dialogDrag\"}],staticClass:\"dialogStyle\",attrs:{\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"width\":\"500px\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.handleClose}},[_c('el-form',{ref:\"dataForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.dataForm,\"status-icon\":\"\",\"label-position\":\"top\",\"label-width\":\"100px\",\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"登录账号\",\"prop\":\"user_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入登录手机号码\",\"size\":\"small\",\"maxlength\":\"11\"},model:{value:(_vm.dataForm.user_name),callback:function ($$v) {_vm.$set(_vm.dataForm, \"user_name\", $$v)},expression:\"dataForm.user_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"real_name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入姓名\",\"size\":\"small\"},model:{value:(_vm.dataForm.real_name),callback:function ($$v) {_vm.$set(_vm.dataForm, \"real_name\", $$v)},expression:\"dataForm.real_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机号\"}},[_c('el-input',{attrs:{\"placeholder\":\"微信/i襄阳注册手机号\",\"size\":\"small\"},model:{value:(_vm.dataForm.mobile),callback:function ($$v) {_vm.$set(_vm.dataForm, \"mobile\", $$v)},expression:\"dataForm.mobile\"}})],1),_vm._v(\" \"),(_vm.title == '新增')?_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"size\":\"small\",\"type\":\"password\"},model:{value:(_vm.dataForm.password),callback:function ($$v) {_vm.$set(_vm.dataForm, \"password\", $$v)},expression:\"dataForm.password\"}})],1):_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"placeholder\":\"不修改请留空\",\"size\":\"small\",\"type\":\"password\"},model:{value:(_vm.dataForm.password),callback:function ($$v) {_vm.$set(_vm.dataForm, \"password\", $$v)},expression:\"dataForm.password\"}})],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"负责人权限\"}},[_c('el-switch',{model:{value:(_vm.dataForm.main_account),callback:function ($$v) {_vm.$set(_vm.dataForm, \"main_account\", $$v)},expression:\"dataForm.main_account\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-switch',{attrs:{\"disabled\":!_vm.method_auth.setState},model:{value:(_vm.dataForm.disabled),callback:function ($$v) {_vm.$set(_vm.dataForm, \"disabled\", $$v)},expression:\"dataForm.disabled\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialogInput\"},[_c('div',{staticClass:\"padd\"},[_c('div',{staticClass:\"paddTit\"},[_vm._v(\"资源权限\")]),_vm._v(\" \"),_c('div',{staticClass:\"tree_main\"},[_c('el-form-item',{staticStyle:{\"display\":\"block\"}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.nodeData,\"show-checkbox\":\"\",\"check-on-click-node\":\"\",\"node-key\":\"id\",\"default-expand-all\":\"\",\"props\":_vm.defaultProps}})],1)],1)])])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[(_vm.title == '新增')?_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.createData}},[_vm._v(\"确 定\")]):_c('el-button',{staticClass:\"btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.updateData()}}},[_vm._v(\"确 定\")])],1)],1):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6fedb81b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/accountManagement/cityAccount.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6fedb81b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cityAccount.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cityAccount.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cityAccount.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6fedb81b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cityAccount.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6fedb81b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/accountManagement/cityAccount.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}