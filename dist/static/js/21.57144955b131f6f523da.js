webpackJsonp([21],{FPzU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Xxa5"),s=a.n(i),o=a("exGp"),l=a.n(o),n=a("gyMJ"),r={data:function(){return{total:0,pageNum:1,pageSize:15,isLoading:!1,tableHeight:window.innerHeight-180,formData:{month:"",year:"",term:"",personal_score:"",class_score:""},method_auth:{},editId:"",title:"",search:{month:"",year:""},dialogVisible:!1,tableHead:[{title:"ID",prop:"id",minWidth:"100"},{title:"学生姓名",prop:"student_name",minWidth:"120"},{title:"班级",prop:"class_name",minWidth:"100"},{title:"年份",prop:"year",minWidth:"120"},{title:"学期",prop:"term",minWidth:"150"},{title:"月份",prop:"month_name",minWidth:"150"}],tableData:[],tableInfo:[{type:1,achievement:"",discipline:"",hold_post:"",home_school:""}],tableInfoTwo:[{type:2,achievement:"",discipline:"",hold_post:"",home_school:""}],hash:"",gradeList:[],classList:[],viewFile_id:"",month_list:[],term_list:[],year_list:[],tableTitle:localStorage.getItem("studentFile_name")}},mounted:function(){this.viewFile_id=localStorage.getItem("viewFile_id"),this.getList(),this.resView(),this.getHash()},methods:{serchList:function(){this.pageNum=1,this.pageSize=15,this.getList()},handleSizeChange:function(e){this.pageNum=1,this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.pageNum=e,this.getList()},check:function(e){var t=this;this.title="查看",this.dialogVisible=!0,this.$nextTick(function(){t.getInfo(e.id)})},resView:function(){var e=this;return l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.axios.post(n._114);case 2:1==(a=t.sent).data.code?(e.year_list=a.data.data.year_list,e.term_list=a.data.data.term_list,e.month_list=a.data.data.month_list):e.$message({showClose:!0,message:a.data.msg,type:"error"});case 4:case"end":return t.stop()}},t,e)}))()},getList:function(){var e=this;return l()(s.a.mark(function t(){var a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={student_id:e.viewFile_id,curr:e.pageNum,pageSize:e.pageSize,month:e.search.month,year:e.search.year},t.next=3,e.axios.post(n.i,a);case 3:1==(i=t.sent).data.code?(e.tableData=i.data.data.data,e.total=i.data.data.total):e.$message({showClose:!0,message:i.data.msg,type:"error"});case 5:case"end":return t.stop()}},t,e)}))()},getHash:function(){var e=this;return l()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.axios.post(n._20,{page_hash:"viewFile"});case 2:1==(a=t.sent).data.code?e.hash=a.data.data:e.$message({showClose:!0,message:a.data.msg,type:"error"});case 4:case"end":return t.stop()}},t,e)}))()},getInfo:function(e){var t=this;return l()(s.a.mark(function a(){var i;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(n.h,{archives_id:e});case 2:1==(i=a.sent).data.code?(t.formData=i.data.data,t.tableInfo=[i.data.data.list[0]],t.tableInfoTwo=[i.data.data.list[1]]):t.$message({showClose:!0,message:i.data.msg,type:"error"});case 4:case"end":return a.stop()}},a,t)}))()}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"studentFile"},[a("div",{staticClass:"searchA"},[a("el-date-picker",{attrs:{clearable:"","value-format":"yyyy",size:"small",type:"year",placeholder:"选择年"},model:{value:e.search.year,callback:function(t){e.$set(e.search,"year",t)},expression:"search.year"}}),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small"},model:{value:e.search.month,callback:function(t){e.$set(e.search,"month",t)},expression:"search.month"}},e._l(e.month_list,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-search"},on:{click:function(t){return e.serchList()}}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"home_table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","element-loading-background":"rgba(0, 0, 0, 0.4)",size:"medium","max-height":e.tableHeight}},[e._l(e.tableHead,function(e,t){return[a("el-table-column",{key:t,attrs:{prop:e.prop,label:e.title,"show-overflow-tooltip":!0,"min-width":e.minWidth}})]}),e._v(" "),a("el-table-column",{attrs:{prop:"address",align:"center",label:"操作",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.check(t.row)}}},[e._v("查看")])]}}])})],2),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":e.pageNum,"page-sizes":[15,30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next",total:e.total,"hide-on-single-page":e.total<15},on:{"update:currentPage":function(t){e.pageNum=t},"update:current-page":function(t){e.pageNum=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,visible:e.dialogVisible,width:"60%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-descriptions",{staticClass:"margin-top",attrs:{colon:!1,title:e.tableTitle,column:1,direction:"vertical"}},[a("el-descriptions-item",[a("span",{staticStyle:{"margin-right":"40px"}},[e._v("\n                        "+e._s(e.formData.month_name)+"在校表现\n                    ")]),e._v(" "),a("span",{staticStyle:{"margin-right":"20px"}},[e._v("\n                        "+e._s(e.formData.year)+"学年度\n                    ")]),e._v(" "),a("span",[e._v("\n                        "+e._s(e.formData.term)+"学期\n                    ")])]),e._v(" "),a("el-descriptions-item",{attrs:{label:"第一、二周"}},[a("el-table",{ref:"tableInfo",staticStyle:{width:"100%"},attrs:{data:e.tableInfo,border:"","element-loading-background":"rgba(0, 0, 0, 0.4)",size:"medium"}},[a("el-table-column",{attrs:{prop:"achievement",label:"重要成绩及表彰","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"discipline",label:"重大违纪","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"hold_post",label:"担任职务或岗位","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"home_school",label:"家校合作情况","show-overflow-tooltip":!0}})],1)],1),e._v(" "),a("el-descriptions-item",{attrs:{label:"第三、四周"}},[a("el-table",{ref:"tableInfoTwo",staticStyle:{width:"100%"},attrs:{data:e.tableInfoTwo,border:"","element-loading-background":"rgba(0, 0, 0, 0.4)",size:"medium"}},[a("el-table-column",{attrs:{prop:"achievement",label:"重要成绩及表彰","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"discipline",label:"重大违纪","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"hold_post",label:"担任职务或岗位","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"home_school",label:"家校合作情况","show-overflow-tooltip":!0}})],1)],1),e._v(" "),a("el-descriptions-item",{attrs:{label:"个人积分"}},[e._v("\n                    "+e._s(e.formData.personal_score)+"\n                ")]),e._v(" "),a("el-descriptions-item",{attrs:{label:"班级均分"}},[e._v("\n                    "+e._s(e.formData.class_score)+"\n                ")])],1)],1)],1)])},staticRenderFns:[]};var d=a("VU/8")(r,c,!1,function(e){a("eI+N"),a("Y4dH")},"data-v-1ce5c2ba",null);t.default=d.exports},Y4dH:function(e,t){},"eI+N":function(e,t){}});
//# sourceMappingURL=21.57144955b131f6f523da.js.map