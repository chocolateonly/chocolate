webpackJsonp([16],{CQHS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Xxa5"),r=a.n(i),s=a("exGp"),n=a.n(s),o=a("gyMJ"),l={data:function(){return{total:0,pageNum:1,pageSize:15,isLoading:!1,tableHeight:window.innerHeight-180,formData:{},method_auth:{},editId:"",title:"",search:{class_name:"",student_name:""},dialogVisible:!1,portraitVisible:!1,portrait:[],rule:{student_name:[{required:!0,message:"请输入学生姓名",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],grade_id:[{required:!0,message:"请选择所在年级",trigger:"change"}],class_id:[{required:!0,message:"请选择所在班级",trigger:"change"}],disabled:[{required:!0,message:"请选择学生状态",trigger:"change"}]},tableHead:[{title:"ID",prop:"id",minWidth:"100"},{title:"学生姓名",prop:"student_name",minWidth:"120"},{title:"性别",prop:"sex_name",minWidth:"100"},{title:"班级",prop:"class_name",minWidth:"100"},{title:"身份证号",prop:"id_card",minWidth:"180"},{title:"学籍号",prop:"student_code",minWidth:"120"},{title:"家长姓名",prop:"guardian_name",minWidth:"120"},{title:"联系电话",prop:"guardian_tel",minWidth:"150"}],tableData:[],hash:"",gradeList:[],classList:[],num:[]}},mounted:function(){this.getList(),this.getHash()},methods:{checkPortrait:function(e){var t=this;this.portraitVisible=!0,this.num=[];for(var a=0;a<5;a++)this.num.push(Math.floor(6*Math.random())+5);this.$nextTick(function(){t.getPortrait()})},getPortrait:function(){var e=this.$refs.portrait,t=this.$echarts.init(e);null==t&&(t=this.$echarts.init(e));var a={tooltip:{trigger:"axis"},legend:{left:"center",data:["思想道德","劳动实践","文化知识","身心健康","审美素质"]},radar:{indicator:[{name:"思想道德",max:10},{name:"劳动实践",max:10},{name:"文化知识",max:10},{name:"身心健康",max:10},{name:"审美素质",max:10}]},series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:this.num,name:"画像信息"}]}]};a&&t.setOption(a)},serchList:function(){this.pageNum=1,this.pageSize=15,this.getList()},handleSizeChange:function(e){this.pageNum=1,this.pageSize=e,this.getList()},handleCurrentChange:function(e){this.pageNum=e,this.getList()},checkInfo:function(e){var t=this;this.dialogVisible=!0,this.$nextTick(function(){t.getBasicInfo(e.id)})},checkArchives:function(e){localStorage.setItem("viewFile_id",e.id),this.$router.push({name:"viewFile"})},getBasicInfo:function(e){var t=this;return n()(r.a.mark(function a(){var i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(o.g,{student_id:e});case 2:1==(i=a.sent).data.code?t.formData=i.data.data:t.$message({showClose:!0,message:i.data.msg,type:"error"});case 4:case"end":return a.stop()}},a,t)}))()},getList:function(){var e=this;return n()(r.a.mark(function t(){var a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={curr:e.pageNum,pageSize:e.pageSize,class_name:e.search.class_name,student_name:e.search.student_name},t.next=3,e.axios.post(o.j,a);case 3:1==(i=t.sent).data.code?(e.tableData=i.data.data.data,e.total=i.data.data.total):e.$message({showClose:!0,message:i.data.msg,type:"error"});case 5:case"end":return t.stop()}},t,e)}))()},getHash:function(){var e=this;return n()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.axios.post(o._20,{page_hash:"archivesManagement"});case 2:1==(a=t.sent).data.code?e.hash=a.data.data:e.$message({showClose:!0,message:a.data.msg,type:"error"});case 4:case"end":return t.stop()}},t,e)}))()},getInfo:function(e){var t=this;return n()(r.a.mark(function a(){var i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.axios.post(studentManagementInfo,{id:e});case 2:1==(i=a.sent).data.code?t.formData=i.data.data:t.$message({showClose:!0,message:i.data.msg,type:"error"});case 4:case"end":return a.stop()}},a,t)}))()},resetForm:function(){var e=this;this.formData={},this.$nextTick(function(){e.$refs.formData.resetFields()})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"archivesManagement"},[a("div",{staticClass:"searchA"},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入姓名",clearable:"",size:"small"},model:{value:e.search.student_name,callback:function(t){e.$set(e.search,"student_name",t)},expression:"search.student_name"}}),e._v(" "),a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入班级",clearable:"",size:"small"},model:{value:e.search.class_name,callback:function(t){e.$set(e.search,"class_name",t)},expression:"search.class_name"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-search"},on:{click:function(t){return e.serchList()}}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"home_table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","element-loading-background":"rgba(0, 0, 0, 0.4)",size:"medium","max-height":e.tableHeight}},[e._l(e.tableHead,function(t,i){return["disabled"==t.prop?a("el-table-column",{key:i,attrs:{prop:t.prop,label:t.title,"min-width":t.minWidth,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{size:"small",type:0==t.row.disabled?"":"info"}},[e._v(e._s(0==t.row.disabled?"正常":"禁用"))])]}}],null,!0)}):a("el-table-column",{key:i,attrs:{prop:t.prop,label:t.title,"show-overflow-tooltip":!0,"min-width":t.minWidth}})]}),e._v(" "),a("el-table-column",{attrs:{prop:"portrait",align:"center",label:"学生素质画像",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.checkPortrait(t.row)}}},[e._v("查看")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"archives",align:"center",label:"查看档案",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.checkArchives(t.row)}}},[e._v("查看")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"address",align:"center",label:"查看基础信息",fixed:"right",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.checkInfo(t.row)}}},[e._v("查看")])]}}])})],2),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":e.pageNum,"page-sizes":[15,30,50,100],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next",total:e.total,"hide-on-single-page":e.total<15},on:{"update:currentPage":function(t){e.pageNum=t},"update:current-page":function(t){e.pageNum=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"查看基础信息",visible:e.dialogVisible,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formData",attrs:{model:e.formData,size:"medium",rules:e.rule,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"学生姓名"}},[e._v(e._s(e.formData.student_name))]),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[e._v(e._s(e.formData.sex_name))]),e._v(" "),a("el-form-item",{attrs:{label:"班级"}},[e._v(e._s(e.formData.class_name))]),e._v(" "),a("el-form-item",{attrs:{label:"身份证号"}},[e._v(e._s(e.formData.id_card))]),e._v(" "),a("el-form-item",{attrs:{label:"学籍号"}},[e._v(e._s(e.formData.student_code))]),e._v(" "),a("el-form-item",{attrs:{label:"家长姓名"}},[e._v(e._s(e.formData.guardian_name))]),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[e._v(e._s(e.formData.guardian_tel))]),e._v(" "),a("el-form-item",{attrs:{label:"住址"}},[e._v(e._s(e.formData.address))])],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"画像信息",visible:e.portraitVisible,width:"600px","close-on-click-modal":!1},on:{"update:visible":function(t){e.portraitVisible=t}}},[a("div",{ref:"portrait",staticStyle:{width:"100%",height:"376px"}})])],1)])},staticRenderFns:[]};var d=a("VU/8")(l,c,!1,function(e){a("SPdU"),a("oMXl")},"data-v-620e9bba",null);t.default=d.exports},SPdU:function(e,t){},oMXl:function(e,t){}});
//# sourceMappingURL=16.9ade6460993e4c6a52f8.js.map